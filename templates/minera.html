{% extends "base.html" %}

{% block title %}Minera Word Mining - BSPWM Kali Demo{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="text-center mb-4 matrix-text">
            <i class="fas fa-language"></i> Minera - Word Mining Tool
        </h1>
        <p class="text-center text-muted">Extract vocabulary and phonetic information for language learning</p>
    </div>
</div>

<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-search"></i> Word Analysis</h3>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="word" class="form-label">English Word or Phrase:</label>
                        <input type="text" class="form-control" id="word" name="word" 
                               placeholder="Enter word or phrase in English" 
                               value="{{ word or '' }}" required>
                        <div class="form-text">Enter a word or phrase to analyze</div>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-magic"></i> Analyze Word
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

{% if word %}
<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-volume-up"></i> Analysis Results for "{{ word }}"</h3>
            </div>
            <div class="card-body">
                {% if ipa %}
                <div class="terminal mb-4">
                    <div class="mb-2">
                        <span style="color: var(--nsa-accent);">kali@nsa-theme:~$</span> 
                        python3 ~/hacktools/minera/minera-stable.py --opcao 1
                    </div>
                    <div class="mb-2">
                        <span style="color: var(--nsa-red);">Qual a palavra em inglês que você deseja buscar?</span>
                    </div>
                    <div class="mb-2">
                        <span style="color: var(--nsa-red);">$ </span>{{ word }}
                    </div>
                    <div class="mb-2">
                        <span style="color: var(--nsa-red);">Você buscou pela palavra: {{ word }}</span>
                    </div>
                    <div class="mb-2">
                        <span style="color: var(--nsa-red);">Em IPA a pronuncia correta seria: </span>
                        <strong style="color: var(--nsa-accent);">{{ ipa }}</strong>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-book"></i> Dictionary Resources</h5>
                        <p>The following resources will open in new tabs for comprehensive study:</p>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-volume-up"></i> IPA Transcription</h5>
                        <div class="terminal">
                            <div><strong>Word:</strong> {{ word }}</div>
                            <div><strong>IPA:</strong> {{ ipa }}</div>
                        </div>
                    </div>
                </div>

                {% if urls %}
                <div class="mt-4">
                    <h5><i class="fas fa-external-link-alt"></i> Dictionary Links</h5>
                    <div class="row">
                        {% for name, url in urls.items() %}
                        <div class="col-md-6 mb-2">
                            <a href="{{ url }}" target="_blank" class="btn btn-outline-success w-100">
                                <i class="fas fa-book-open"></i> {{ name }} Dictionary
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% endif %}

                {% if error %}
                <div class="alert alert-danger">
                    <i class="fas fa-exclamation-triangle"></i> {{ error }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endif %}

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-info-circle"></i> About Minera</h3>
            </div>
            <div class="card-body">
                <p>Minera is a Python tool designed to help create Anki flashcards using the i+1 method for language learning. It provides phonetic transcriptions and opens multiple dictionary resources for comprehensive vocabulary study.</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <h5>Original Features:</h5>
                        <ul>
                            <li>IPA phonetic transcription using <code>eng_to_ipa</code></li>
                            <li>Automatic browser tab opening for multiple dictionaries</li>
                            <li>Tatoeba sentence examples with translations</li>
                            <li>Cambridge, Glosbe, and Reverso integration</li>
                            <li>Command-line interface for quick access</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>Learning Method (i+1):</h5>
                        <div class="terminal">
                            <div>Example for word "work":</div>
                            <div>Known words: "You", "Hard"</div>
                            <div>Target sentence: "You <strong>work</strong> hard"</div>
                            <div>Only one unknown word = i+1 method</div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-3">
                    <h5>Original Command Usage:</h5>
                    <div class="terminal">
                        <div>python3 ~/hacktools/minera/minera-stable.py</div>
                        <div>python3 ~/hacktools/minera/minera-stable.py --opcao 1  # Word mining</div>
                        <div>python3 ~/hacktools/minera/minera-stable.py --opcao 2  # IPA only</div>
                        <div>python3 ~/hacktools/minera/minera-stable.py -h        # Help</div>
                    </div>
                </div>
                
                <div class="alert" style="background-color: #1e2229; border: 1px solid var(--nsa-accent); color: var(--nsa-accent);">
                    <strong>Educational Purpose:</strong> This tool helps cybersecurity professionals improve their English skills for better communication and documentation.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}